<div id="clientDynamicFilterDialog" title="Szűrők">
    <div class="dynamic-filter-label-separator">Alapvető szűrők</div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="lastname">
        <span>Vezetéknév</span>
        <button type="button" data-filter-template-id="#lastnameFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="firstname">
        <span>Keresztnév</span>
        <button type="button" data-filter-template-id="#firstnameFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="email">
        <span>E-mail cím</span>
        <button type="button" data-filter-template-id="#emailFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="birthdate">
        <span>Születési idő</span>
        <button type="button" data-filter-template-id="#birthdateFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="education">
        <span>Tanulmány</span>
        <button type="button" data-filter-template-id="#educationFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="highestEducation">
        <span>Legmagasabb iskolai végzettség</span>
        <button type="button" data-filter-template-id="#highestEducationFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="service">
        <span>Szolgáltatás</span>
        <button type="button" data-filter-template-id="#serviceFilter"></button>
    </div>
    <div class="dynamic-filter-label-separator">Másodlagos szűrők</div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="phoneLandline">
        <span>Vezetékes telefonszám</span>
        <button type="button" data-filter-template-id="#phoneLandlineFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="phoneMobile1">
        <span>Elsődleges mobilszám</span>
        <button type="button" data-filter-template-id="#phoneMobile1Filter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="phoneMobile2">
        <span>Másodlagos mobilszám</span>
        <button type="button" data-filter-template-id="#phoneMobile2Filter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="birthLastname">
        <span>Születési vezetéknév</span>
        <button type="button" data-filter-template-id="#birthLastnameFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="birthFirstname">
        <span>Születési keresztnév</span>
        <button type="button" data-filter-template-id="#birthFirstnameFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="motherName">
        <span>Anyja neve</span>
        <button type="button" data-filter-template-id="#motherNameFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="palyakezdo">
        <span>Pályakezdő</span>
        <button type="button" data-filter-template-id="#palyakezdoFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="regisztraltMunkanelkuli">
        <span>Regisztrált munkanélküli</span>
        <button type="button" data-filter-template-id="#regisztraltMunkanelkuliFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="gyesGyedVisszatero">
        <span>GYES-GYED visszatérő</span>
        <button type="button" data-filter-template-id="#gyesGyedVisszateroFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="megvaltozottMunkakepessegu">
        <span>Megváltozott munkaképességű</span>
        <button type="button" data-filter-template-id="#megvaltozottMunkakepesseguFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="dolgozik">
        <span>Dolgozik</span>
        <button type="button" data-filter-template-id="#dolgozikFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="dolgozikCeg">
        <span>Hol dolgozik (cég neve)</span>
        <button type="button" data-filter-template-id="#dolgozikCegFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="dolgozikCim">
        <span>Hol dolgozik (cég címe)</span>
        <button type="button" data-filter-template-id="#dolgozikCimFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="dolgozikMunkakor">
        <span>Milyen munkakörben dolgozik</span>
        <button type="button" data-filter-template-id="#dolgozikMunkakorFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="munkavegzestKorlatozoEgyebOkok">
        <span>Munkavégzést korlátozó egyéb okok</span>
        <button type="button" data-filter-template-id="#munkavegzestKorlatozoEgyebOkokFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="mikorRegisztralt">
        <span>Mikor regisztrált</span>
        <button type="button" data-filter-template-id="#mikorRegisztraltFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="gyesGyedLejaratiDatum">
        <span>GYES-GYED lejárati dátum</span>
        <button type="button" data-filter-template-id="#gyesGyedLejaratiDatumFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="kovetkezoFelulvizsgalatIdeje">
        <span>Következő felülvizsgálat ideje</span>
        <button type="button" data-filter-template-id="#kovetkezoFelulvizsgalatIdejeFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="euProgram">
        <span>Az elmúlt 2 évben Uniós finanszírozású foglalkoztatási programban részt vett-e ?</span>
        <button type="button" data-filter-template-id="#euProgramFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="hazaiProgram">
        <span>A programba bevonás idején hazai foglalkoztatási programban részt vett-e ?</span>
        <button type="button" data-filter-template-id="#hazaiProgramFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="kozvetitioAdatbazisbaKivanKerulni">
        <span>Közvetítői adatbázisba kíván-e kerülni</span>
        <button type="button" data-filter-template-id="#kozvetitioAdatbazisbaKivanKerulniFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="mobilitastVallal">
        <span>Mobilitást vállal ?</span>
        <button type="button" data-filter-template-id="#mobilitastVallalFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="hozzajarulAMunkakozvetiteshez">
        <span>Hozzájárul a munkaközvetítéshez</span>
        <button type="button" data-filter-template-id="#hozzajarulAMunkakozvetiteshezFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="egyMegallProg">
        <span>Együttműködési megállapodást kötöttünk-e vele a programba ?</span>
        <button type="button" data-filter-template-id="#egyMegallProgFilter"></button>
    </div>
    <div class="dynamic-filter-label" data-role="filter-label" data-filter-key="egyMegallKepz">
        <span>Együttműködési megállapodást kötöttünk-e vele a képzésbe ?</span>
        <button type="button" data-filter-template-id="#egyMegallKepzFilter"></button>
    </div>
</div>
<style type="text/css">
.dynamic-filter-label {
    display: inline-block;
    height: 36px;
    padding-left: 10px;
    padding-right: 10px;
    position: relative;
    width: 45%;
}
.dynamic-filter-label span {
    font-size: 14px;
    text-shadow: none;
}
.dynamic-filter-label button {
    border: 1px solid #999 !important;
    height: 26px;
    position: absolute;
    right: 0px;
    width: 26px;
}
.dynamic-filter-label-separator {
    font-size: 12px;
    font-weight: bold;
    padding: 6px 12px;
    text-shadow: none;
    text-transform: uppercase;
}
</style>
<script type="text/javascript" src="../js/uniweb/jquery.uniweb.dynamicFilter.js"></script>
<script type="text/javascript">
//<![CDATA[
$(function() {
    var textFilterProcess = function(data) {
        if (data) {
            if (data.text) {
                this.find("input").val(data.text);
            }
            if (data.match) {
                this.find("select").val(data.match);
            }
        }
    };
    var trueOrFalseProcess = function(data) {
        if (data) {
            if (data.match) {
                this.find("select").val(data.match);
            }
        }
    };
    var dateFilterProcess = function(data) {
        var $inputs = this.find("input"), 
            $date1 = $($inputs.get(0)), 
            $date2 = $($inputs.get(1)), 
            $match = this.find("select"),
            year = new Date().getUTCFullYear();;
        $inputs.datepicker({
            yearRange: (year - 100) + ":" + year
        });
        $match.change(function() {
            if (this.value === "between") {
                $date2.attr("disabled", false);
                $date2.show();
            } else {
                $date2.attr("disabled", true);
                $date2.hide();
            }
        });
        if (data) {
            if (data.match) {
                $match.val(data.match);
            }
            if (data.date) {
                $date1.val(data.date);
            }
            if (data.date2) {
                $date2.val(data.date2).attr("disabled", false).show();
            }
        }
    };
    $("#clientDynamicFilterDialog").uniwebDynamicFilter({
        activeFilters: {if $filterOptions}{$filterOptions}{else}{literal}{}{/literal}{/if},
        afterRender: function() {
            this.find("select").uniform();
            this.find("button[data-button-role=\"delete\"]").button({
                icons: {
                    primary: "ui-icon-closethick"
                },
                text: false
            });
        },
        beforeInit: function() {
            this.find("div[data-role=\"filter-label\"] button").button({
                icons: {
                    primary: "ui-icon-plusthick"
                },
                text: false
            });
        },
        filterContainer: "#dynamicFiltersContainer",
        renderFunctions: {
            firstname: textFilterProcess,
            lastname: textFilterProcess,
            email: textFilterProcess,
            motherName: textFilterProcess,
            birthFirstname: textFilterProcess,
            birthLastname: textFilterProcess,
            phoneLandline: textFilterProcess,
            phoneMobile1: textFilterProcess,
            phoneMobile2: textFilterProcess,
            dolgozikCeg: textFilterProcess,
            dolgozikCim: textFilterProcess,
            dolgozikMunkakor: textFilterProcess,
            munkavegzestKorlatozoEgyebOkok: textFilterProcess,
            birthdate: dateFilterProcess,
            mikorRegisztralt: dateFilterProcess,
            gyesGyedLejaratiDatum: dateFilterProcess,
            kovetkezoFelulvizsgalatIdeje: dateFilterProcess,
            palyakezdo: trueOrFalseProcess,
            regisztraltMunkanelkuli: trueOrFalseProcess,
            gyesGyedVisszatero: trueOrFalseProcess,
            megvaltozottMunkakepessegu: trueOrFalseProcess,
            dolgozik: trueOrFalseProcess,
            euProgram: trueOrFalseProcess,
            hazaiProgram: trueOrFalseProcess,
            mobilitastVallal: trueOrFalseProcess,
            kozvetitioAdatbazisbaKivanKerulni: trueOrFalseProcess,
            hozzajarulAMunkakozvetiteshez: trueOrFalseProcess,
            egyMegallProg: trueOrFalseProcess,
            egyMegallKepz: trueOrFalseProcess,
            highestEducation: function(data) {
                if (data) {
                    if (data.educationId) {
                        this.find("select").val(data.educationId);
                    }
                }
            },
            education: function(data) {
                if (data) {
                    var $education = this.find("select[name=\"filter[education][educationId]\"]"),
                        $denomination = this.find("input[name=\"filter[education][denomination]\"]"),
                        $match = this.find("select[name=\"filter[education][match]\"]")
                    if (data.educationId) {
                        $education.val(data.educationId);
                    }
                    if (data.denomination) {
                        $denomination.val(data.denomination);
                    }
                    if (data.match) {
                        $match.val(data.match);
                    }
                }
            },
            service: function(data) {
                var year = new Date().getUTCFullYear(),
                    $checkboxes = this.find("input[type=\"checkbox\"]"),
                    $select = this.find("select"),
                    $wantToParticipate = $($checkboxes.get(0)),
                    $attended = $($checkboxes.get(1)),
                    $when = this.find("input[name=\"filter[service][when]\"]"),
                    $whenBetween = this.find("input[name=\"filter[service][whenBetween]\"]");
                this.find("input[type=\"text\"]").datepicker({
                    yearRange: (year - 100) + ":" + year
                });
                $select.change(function() {
                    if (this.value === "between") {
                        $whenBetween.show();
                    } else {
                        $whenBetween.hide();
                    }
                });
                if (data) {
                    if (data.want_to_participate && data.want_to_participate === "on") {
                        $wantToParticipate.attr("checked", true);
                    }
                    if (data.attended && data.attended === "on") {
                        $attended.attr("checked", true);
                    }
                    if (data.whenMatch) {
                        $select.val(data.whenMatch);
                        $select.trigger("change");
                    }
                    if (data.when) {
                        $when.val(data.when);
                    }
                    if (data.whenBetween) {
                        $whenBetween.val(data.whenBetween);
                    }
                    if (data.serviceId) {
                        $select.val(data.serviceId);
                    }
                }
            }
        }
    });
});
//]]>
</script>